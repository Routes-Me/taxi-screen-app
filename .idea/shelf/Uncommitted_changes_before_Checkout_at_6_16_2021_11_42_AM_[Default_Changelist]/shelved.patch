Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM_[Default_Changelist]/shelved.patch
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM_[Default_Changelist]/shelved.patch	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
+++ .idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM_[Default_Changelist]/shelved.patch	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
@@ -1,2 +0,0 @@
-diff --git .idea/shelf/Uncommitted_changes_before_Checkout_at_5_27_2021_10_12_AM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Checkout_at_5_27_2021_10_12_AM__Default_Changelist_.xml
-diff --git .idea/shelf/Uncommitted_changes_before_Checkout_at_5_25_2021_12_29_PM__Default_Changelist_.xml .idea/shelf/Uncommitted_changes_before_Checkout_at_5_25_2021_12_29_PM__Default_Changelist_.xml
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM__Default_Changelist_.xml
===================================================================
--- .idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM__Default_Changelist_.xml	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
+++ .idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM__Default_Changelist_.xml	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
@@ -1,4 +0,0 @@
-<changelist name="Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM_[Default_Changelist]" date="1622977929953" recycled="true" deleted="true">
-  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_6_6_2021_2_12_PM_[Default_Changelist]/shelved.patch" />
-  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 6/6/2021 2:12 PM [Default Changelist]" />
-</changelist>
\ No newline at end of file
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>apply plugin: 'com.android.application'\r\napply plugin: 'com.google.gms.google-services'\r\napply plugin: 'com.google.firebase.crashlytics'\r\napply plugin: 'kotlin-android'\r\napply plugin: 'kotlin-android-extensions'\r\napply plugin: \"org.jetbrains.kotlin.kapt\"\r\nandroid {\r\n    compileSdkVersion 29\r\n    buildToolsVersion '29.0.3'\r\n    defaultConfig {\r\n        applicationId \"com.routesme.vehicles\"\r\n        minSdkVersion 26\r\n        targetSdkVersion 29\r\n        versionCode 29\r\n        versionName \"3.6\"\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n        multiDexEnabled true\r\n        consumerProguardFiles 'proguard-consumer-rules.pro'\r\n        buildConfigField \"int\", \"OAUTH_RE_AUTH_RETRY_LIMIT\", '1'\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [\"room.schemaLocation\": \"$projectDir/schemas\".toString()]\r\n            }\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = \"1.8\"\r\n        }\r\n    }\r\n/*\r\n    buildTypes {\r\n        debug {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), \"proguard-rules.pro\"\r\n        }\r\n        release {\r\n            minifyEnabled true\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), \"proguard-rules.pro\"\r\n\r\n        }\r\n    }\r\n    */\r\n\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n    }\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n\r\n    flavorDimensions 'default'\r\n    productFlavors {\r\n        taxi {\r\n            dimension 'default'\r\n            applicationId \"com.routesme.vehicles\"\r\n            applicationIdSuffix \".taxi\"\r\n            versionCode 37\r\n            versionName \"4.4\"\r\n        }\r\n\r\n        bus {\r\n            dimension 'default'\r\n            applicationId \"com.routesme.vehicles\"\r\n            applicationIdSuffix \".bus\"\r\n            versionCode 1\r\n            versionName \"1.0\"\r\n        }\r\n    }\r\n    sourceSets {\r\n        bus {\r\n            res.srcDirs = ['src/bus/res', 'src/bus/res/']\r\n            java.srcDirs = ['src/bus/java', 'src/bus/java/']\r\n        }\r\n        taxi {\r\n            res.srcDirs = ['src/taxi/res', 'src/taxi/res/']\r\n            java.srcDirs = ['src/taxi/java', 'src/taxi/java/']\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\r\n    implementation 'androidx.appcompat:appcompat:1.2.0'\r\n    implementation 'com.android.support:design:29.0.3'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.1'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\r\n    testImplementation 'junit:junit:4.12'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\r\n    implementation 'com.android.support:multidex:1.0.3'\r\n    //Kotlin ...\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\r\n    //Firebase Crashlytics\r\n    implementation 'com.google.firebase:firebase-core:17.5.0'\r\n    implementation 'com.google.firebase:firebase-crashlytics:17.2.2'\r\n    implementation 'com.google.firebase:firebase-analytics:17.5.0'\r\n    //View Images\r\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\r\n    kapt 'com.github.bumptech.glide:compiler:4.11.0'\r\n    // Zxing barcode dependency\r\n    implementation 'com.google.zxing:core:3.3.3'\r\n    implementation 'com.github.illiashenkoo:glide-barcode:0.0.1'\r\n    implementation 'com.pixplicity.sharp:library:1.1.0'\r\n    //Pattern Lock View Library.. For PassCode Authentication..\r\n    implementation 'com.andrognito.patternlockview:patternlockview:1.0.0'\r\n    //Ring Progress Bar for videoView ...\r\n    implementation 'com.github.HotBitmapGG:RingProgressBar:V1.2.3'\r\n    //Show & hide password editText Library\r\n    implementation 'com.github.scottyab:showhidepasswordedittext:0.8'\r\n    //Hotspot Configuration...\r\n    implementation 'com.linkedin.dexmaker:dexmaker:2.25.0'\r\n    //Spots progress dialog\r\n    implementation 'com.github.d-max:spots-dialog:1.1@aar'\r\n    //retrofit\r\n    implementation 'com.squareup.okhttp3:okhttp:3.14.4'\r\n    implementation 'com.squareup.retrofit2:retrofit:2.7.1'\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.7.1'\r\n    implementation 'com.squareup.retrofit2:converter-scalars:2.9.0'\r\n    implementation 'com.jakewharton.retrofit:retrofit2-rxjava2-adapter:1.0.0'\r\n    implementation 'com.google.code.gson:gson:2.8.6'\r\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.14.4'\r\n    //RxJave\r\n    implementation 'io.reactivex.rxjava2:rxjava:2.2.8'\r\n    implementation 'io.reactivex.rxjava2:rxandroid:2.1.1'\r\n    implementation 'com.jakewharton.rxbinding:rxbinding:0.4.0'\r\n    //MVVM Architecture\r\n    kapt \"android.arch.lifecycle:compiler:1.1.1\"\r\n    implementation \"androidx.lifecycle:lifecycle-extensions:2.2.0\"\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0'\r\n    implementation 'androidx.fragment:fragment-ktx:1.2.5'\r\n    implementation \"android.arch.lifecycle:viewmodel:1.1.1\"\r\n    implementation 'com.google.android.material:material:1.2.1'\r\n    //Location tracking service by kotlin ...\r\n    //Location Listener\r\n    implementation 'com.google.android.gms:play-services-maps:17.0.0'\r\n    implementation 'com.google.android.gms:play-services-location:17.1.0'\r\n    //noinspection GradleDynamicVersion\r\n    implementation 'com.google.maps.android:android-maps-utils:0.4+'\r\n    //1-Room database\r\n    //noinspection GradleDependency\r\n    implementation \"androidx.room:room-runtime:$room_version\"\r\n    implementation \"androidx.legacy:legacy-support-v4:1.0.0\"\r\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.2.0'\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.2.0'\r\n    kapt \"androidx.room:room-compiler:$room_version\"\r\n    implementation \"androidx.room:room-ktx:$room_version\"\r\n    implementation \"android.arch.persistence.room:runtime:1.1.1\"\r\n    kapt \"android.arch.persistence.room:compiler:1.1.1\"\r\n    implementation 'com.microsoft.signalr:signalr:3.0.0'\r\n    implementation 'org.slf4j:slf4j-jdk14:1.7.25'\r\n    //Exoplayer\r\n    implementation 'com.google.android.exoplayer:exoplayer:2.12.1'\r\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.12.1'\r\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.12.1'\r\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.12.1'\r\n    implementation 'org.greenrobot:eventbus:3.0.0'\r\n    implementation 'com.intuit.sdp:sdp-android:1.0.5'\r\n    implementation 'com.intuit.ssp:ssp-android:1.0.6'\r\n\r\n\r\n    implementation 'tk.zielony:carbon:0.16.0.1'\r\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.6'\r\n    implementation 'android.arch.work:work-runtime:1.0.1'\r\n    //Gif imageView\r\n    implementation 'pl.droidsonroids.gif:android-gif-drawable:1.2.18'\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
+++ app/build.gradle	(date 1623831191363)
@@ -57,8 +57,8 @@
             dimension 'default'
             applicationId "com.routesme.vehicles"
             applicationIdSuffix ".taxi"
-            versionCode 37
-            versionName "4.4"
+            versionCode 39
+            versionName "4.6"
         }
 
         bus {
Index: app/src/main/res/raw/config.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>routesWebsiteUrl=http://www.routesme.com/\r\nexitPassword = 043726518\r\n\r\nProduction\r\nbaseUrl=https://api.routesme.com/v1.0/\r\ntrackingWebSocketAuthorityUrl=location.hubs.routesme.com\r\n\r\nStaging\r\n//baseUrl=https://stage.api.routesme.com/v1.0/\r\n//trackingWebSocketAuthorityUrl=stage.location.hubs.routesme.com
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>windows-1252
===================================================================
--- app/src/main/res/raw/config.properties	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
+++ app/src/main/res/raw/config.properties	(date 1623757252368)
@@ -2,9 +2,9 @@
 exitPassword = 043726518
 
 Production
-baseUrl=https://api.routesme.com/v1.0/
-trackingWebSocketAuthorityUrl=location.hubs.routesme.com
+//baseUrl=https://api.routesme.com/v1.0/
+//trackingWebSocketAuthorityUrl=location.hubs.routesme.com
 
 Staging
-//baseUrl=https://stage.api.routesme.com/v1.0/
-//trackingWebSocketAuthorityUrl=stage.location.hubs.routesme.com
\ No newline at end of file
+baseUrl=https://stage.api.routesme.com/v1.0/
+trackingWebSocketAuthorityUrl=stage.location.hubs.routesme.com
\ No newline at end of file
Index: app/src/main/java/com/routesme/vehicles/api/ApiWorker.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.routesme.vehicles.api\r\n\r\nimport android.content.Context\r\nimport com.google.gson.GsonBuilder\r\nimport com.routesme.vehicles.api.interceptors.ReceivedCookiesInterceptor\r\nimport com.routesme.vehicles.api.interceptors.RedirectInterceptor\r\nimport com.routesme.vehicles.api.interceptors.TokenAuthenticator\r\nimport okhttp3.OkHttpClient\r\nimport okhttp3.logging.HttpLoggingInterceptor\r\nimport retrofit2.converter.gson.GsonConverterFactory\r\nimport java.security.KeyManagementException\r\nimport java.security.NoSuchAlgorithmException\r\nimport java.util.concurrent.TimeUnit\r\n\r\n\r\nclass ApiWorker(val context: Context) {\r\n\r\n    private var mClient: OkHttpClient? = null\r\n    private var mGsonConverter: GsonConverterFactory? = null\r\n    private val interceptor = HttpLoggingInterceptor()\r\n\r\n    val client: OkHttpClient\r\n        @Throws(NoSuchAlgorithmException::class, KeyManagementException::class)\r\n        get() {\r\n            if (mClient == null) {\r\n                mClient = OkHttpClient.Builder().apply {\r\n                    connectTimeout(1, TimeUnit.MINUTES)\r\n                    readTimeout(30, TimeUnit.SECONDS)\r\n                    writeTimeout(15, TimeUnit.SECONDS)\r\n                    //addInterceptor(interceptor.setLevel(HttpLoggingInterceptor.Level.BODY))\r\n                    addInterceptor(BasicAuthInterceptor())\r\n                    addInterceptor(ReceivedCookiesInterceptor())\r\n                    addInterceptor(RedirectInterceptor())\r\n                    followSslRedirects(false)\r\n                    // addInterceptor(NotAcceptableRefreshTokenInterceptor(context))\r\n                    authenticator(TokenAuthenticator(context))\r\n                    //  if (context !is LoginActivity) addInterceptor(UnauthorizedInterceptor(context))\r\n                }.build()\r\n            }\r\n            return mClient!!\r\n        }\r\n\r\n    val gsonConverter: GsonConverterFactory?\r\n        get() {\r\n            if (mGsonConverter == null)\r\n                mGsonConverter = GsonConverterFactory.create(GsonBuilder().setLenient().disableHtmlEscaping().create())\r\n\r\n            return mGsonConverter\r\n        }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/routesme/vehicles/api/ApiWorker.kt	(revision 29a430b16f87d06521584a9a71da80d102203ed7)
+++ app/src/main/java/com/routesme/vehicles/api/ApiWorker.kt	(date 1623757298523)
@@ -27,7 +27,7 @@
                     connectTimeout(1, TimeUnit.MINUTES)
                     readTimeout(30, TimeUnit.SECONDS)
                     writeTimeout(15, TimeUnit.SECONDS)
-                    //addInterceptor(interceptor.setLevel(HttpLoggingInterceptor.Level.BODY))
+                    addInterceptor(interceptor.setLevel(HttpLoggingInterceptor.Level.BODY))
                     addInterceptor(BasicAuthInterceptor())
                     addInterceptor(ReceivedCookiesInterceptor())
                     addInterceptor(RedirectInterceptor())
